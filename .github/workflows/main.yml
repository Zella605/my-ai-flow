name: Auto AI Scraper

on:
  schedule:
    - cron: '0 0 * * *' # æ¯å¤©å‡Œæ™¨è‡ªåŠ¨è¿è¡Œ
  workflow_dispatch: # æ”¯æŒæ‰‹åŠ¨ç‚¹å‡»æŒ‰é’®è§¦å‘

permissions:
  contents: write # å¿…é¡»èµ‹äºˆå†™å…¥æƒé™ï¼Œå¦åˆ™æœºå™¨äººæ— æ³•æ›´æ–° data.json

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'

      - name: Install dependencies
        run: pip install requests

      - name: Run scraper
        env:
          RAPIDAPI_KEY: ${{ secrets.RAPIDAPI_KEY }} # å…³é”®ï¼šä»ä¿é™©ç®±è¯»å– Key
        run: python scraper.py

      - name: Commit and Push changes
        run: |
          git config --global user.name "Zella-Bot"
          git config --global user.email "bot@zella.com"
          git add data.json
          git commit -m "ğŸ¤– Bot: Update real AI trends from TikTok" || exit 0
          git push
