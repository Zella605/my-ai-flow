<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZELLA PRO AI WORKFLOW</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #080808; color: #e2e8f0; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .glass-panel { background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(255, 255, 255, 0.07); backdrop-filter: blur(12px); }
        .input-dark { background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(255, 255, 255, 0.1); color: white; transition: all 0.3s; }
        /* ËçßÂÖâÁªøÁÑ¶ÁÇπÊïàÊûú */
        .input-dark:focus { border-color: #bef264; box-shadow: 0 0 15px rgba(190, 242, 100, 0.15); outline: none; }
        .dot-grid { background-image: radial-gradient(rgba(190, 242, 100, 0.08) 1px, transparent 0); background-size: 32px 32px; }
        .action-btns { opacity: 0; transition: opacity 0.2s; }
        .group:hover .action-btns { opacity: 1; }
        /* ËçßÂÖâÁªøÂèëÂÖâÊåâÈíÆ */
        .btn-lime { background-color: #bef264; color: #000; box-shadow: 0 0 20px rgba(190, 242, 100, 0.2); }
        .btn-lime:hover { background-color: #d9f99d; box-shadow: 0 0 30px rgba(190, 242, 100, 0.4); }
    </style>
</head>
<body class="dot-grid min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        const App = () => {
            const [view, setView] = useState('brainstorm');
            const [manualData, setManualData] = useState(() => {
                const saved = localStorage.getItem('zella-lime-data');
                return saved ? JSON.parse(saved) : [];
            });
            const [votes, setVotes] = useState(() => {
                const saved = localStorage.getItem('zella-lime-votes');
                return saved ? JSON.parse(saved) : {};
            });
            const [roadmap, setRoadmap] = useState(() => {
                const saved = localStorage.getItem('zella-lime-roadmap');
                return saved ? JSON.parse(saved) : [];
            });

            const [form, setForm] = useState({ title: '', url: '', imgs: '', note: '' });

            useEffect(() => {
                localStorage.setItem('zella-lime-data', JSON.stringify(manualData));
                localStorage.setItem('zella-lime-votes', JSON.stringify(votes));
                localStorage.setItem('zella-lime-roadmap', JSON.stringify(roadmap));
            }, [manualData, votes, roadmap]);

            const handleAdd = () => {
                if (!form.url && !form.title) return;
                const imgArray = form.imgs.split(/[,Ôºå\n]/).map(i => i.trim()).filter(i => i);
                const newId = `idea-${Date.now()}`;
                setManualData([{
                    id: newId,
                    title: form.title || "Capture Insight",
                    url: form.url,
                    images: imgArray.length > 0 ? imgArray : ["https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=800"],
                    note: form.note || "System Log: No additional notes provided.",
                    timestamp: Date.now()
                }, ...manualData]);
                setForm({ title: '', url: '', imgs: '', note: '' });
            };

            const handleDelete = (id) => {
                if(confirm("Confirm deletion of this module?")) setManualData(manualData.filter(i => i.id !== id));
            };

            const handlePick = (item) => {
                if (roadmap.find(r => r.id === item.id)) return;
                setRoadmap([{...item, progress: 20}, ...roadmap]);
                alert("INITIALIZED: Moving to Roadmap.");
            };

            const sortedIdeas = useMemo(() => {
                return [...manualData].sort((a, b) => (votes[b.id] || 0) - (votes[a.id] || 0));
            }, [manualData, votes]);

            return (
                <div className="pb-20">
                    {/* Header */}
                    <nav className="flex justify-between items-center px-10 py-8 border-b border-white/5 sticky top-0 bg-[#080808]/90 backdrop-blur-xl z-50">
                        <div className="flex items-center gap-4">
                            <div className="w-10 h-10 bg-[#bef264] rounded-xl flex items-center justify-center shadow-[0_0_20px_rgba(190,242,100,0.3)]">
                                <div className="w-5 h-5 bg-black rounded-sm rotate-45"></div>
                            </div>
                            <h1 className="font-black tracking-[0.2em] text-xl uppercase text-white">Zella <span className="text-[#bef264]">PRO</span></h1>
                        </div>
                        <div className="flex bg-white/5 p-1.5 rounded-2xl border border-white/10">
                            <button onClick={()=>setView('brainstorm')} className={`px-8 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${view==='brainstorm'?'bg-[#bef264] text-black shadow-lg shadow-lime-500/20':'text-white/40 hover:text-white'}`}>ÁÅµÊÑüÊ±†</button>
                            <button onClick={()=>setView('roadmap')} className={`px-8 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${view==='roadmap'?'bg-[#bef264] text-black shadow-lg shadow-lime-500/20':'text-white/40 hover:text-white'}`}>Á†îÂèëËøõÂ∫¶ ({roadmap.length})</button>
                        </div>
                    </nav>

                    <main className="max-w-[1300px] mx-auto mt-16 px-6">
                        {view === 'brainstorm' ? (
                            <div className="space-y-20">
                                {/* Input Panel */}
                                <div className="glass-panel rounded-[2.5rem] p-12 max-w-4xl mx-auto border-lime-500/20 shadow-[0_0_80px_rgba(190,242,100,0.05)] relative overflow-hidden">
                                    <div className="absolute top-0 right-0 w-64 h-64 bg-lime-500/5 blur-[100px] -mr-32 -mt-32"></div>
                                    <div className="flex items-center gap-3 mb-8">
                                        <div className="w-1.5 h-6 bg-[#bef264] rounded-full"></div>
                                        <h3 className="text-[11px] font-black uppercase tracking-[0.4em] text-white/50">Terminal Input</h3>
                                    </div>
                                    <div className="grid grid-cols-1 gap-5">
                                        <input value={form.title} onChange={e=>setForm({...form, title:e.target.value})} placeholder="ÁÅµÊÑüÊ†áÈ¢ò (Project Title)" className="input-dark rounded-2xl px-7 py-5 text-sm"/>
                                        <div className="grid grid-cols-2 gap-5">
                                            <input value={form.url} onChange={e=>setForm({...form, url:e.target.value})} placeholder="ÂèÇËÄÉÈìæÊé• (Source URL)" className="input-dark rounded-2xl px-7 py-5 text-sm"/>
                                            <input value={form.imgs} onChange={e=>setForm({...form, imgs:e.target.value})} placeholder="ÂõæÁâáÂú∞ÂùÄ (Image Matrix - ÈÄóÂè∑ÂàÜÈöî)" className="input-dark rounded-2xl px-7 py-5 text-sm"/>
                                        </div>
                                        <textarea value={form.note} onChange={e=>setForm({...form, note:e.target.value})} placeholder="Ê∑±Â∫¶ÊäÄÊúØËØ¥Êòé (Technical Notes)..." className="input-dark rounded-2xl px-7 py-5 text-sm h-36 resize-none"/>
                                        <button onClick={handleAdd} className="btn-lime py-5 rounded-2xl font-black text-xs uppercase tracking-widest transition-all active:scale-[0.97]">
                                            Synchronize to Database
                                        </button>
                                    </div>
                                </div>

                                {/* Results Grid */}
                                <div className="space-y-12">
                                    {sortedIdeas.map((item, idx) => (
                                        <div key={item.id} className="group glass-panel rounded-[3.5rem] overflow-hidden flex flex-col lg:flex-row h-auto lg:h-[480px] relative hover:border-lime-500/30 transition-all duration-500">
                                            <div className="action-btns absolute top-8 right-10 z-30 flex gap-4">
                                                <button onClick={()=>handlePick(item)} className="btn-lime px-6 py-2.5 rounded-full text-[10px] font-black uppercase tracking-widest transition-all active:scale-90">Pick ‚ö°</button>
                                                <button onClick={()=>handleDelete(item.id)} className="bg-white/5 hover:bg-rose-500/20 hover:text-rose-500 text-white/20 p-2.5 rounded-full border border-white/10 transition-all">‚úï</button>
                                            </div>

                                            {/* Left Panel */}
                                            <div className="w-full lg:w-[380px] p-12 flex flex-col justify-between border-r border-white/5 bg-white/[0.01]">
                                                <div>
                                                    <div className="inline-block px-3 py-1 rounded-md bg-lime-500/10 text-[#bef264] text-[9px] font-black uppercase tracking-widest mb-6">Module #{idx+1}</div>
                                                    <h3 className="text-3xl font-bold mb-8 text-white tracking-tight">{item.title}</h3>
                                                    <div className="bg-black/40 p-7 rounded-[2.5rem] border border-white/5 shadow-inner">
                                                        <p className="text-white/40 text-[12px] leading-relaxed font-medium italic">‚Äú {item.note} ‚Äù</p>
                                                    </div>
                                                </div>
                                                <div className="mt-10 flex items-center justify-between pt-8 border-t border-white/5">
                                                    <a href={item.url} target="_blank" className="text-[10px] font-black text-[#bef264]/60 hover:text-[#bef264] tracking-widest">VIEW SOURCE</a>
                                                    <button onClick={()=>setVotes(v=>({...v,[item.id]:(v[item.id]||0)+1}))} className="flex items-center gap-3 bg-white/5 px-5 py-2.5 rounded-2xl hover:bg-lime-500/10 transition-all group/v">
                                                        <span className="text-xl grayscale group-hover/v:grayscale-0">üî•</span>
                                                        <span className="font-black text-sm text-white group-hover/v:text-[#bef264]">{votes[item.id]||0}</span>
                                                    </button>
                                                </div>
                                            </div>

                                            {/* Right Gallery */}
                                            <div className="flex-1 overflow-x-auto hide-scrollbar flex gap-8 p-8 items-center bg-black/20">
                                                {item.images.map((img, i) => (
                                                    <div key={i} className="h-full shrink-0 rounded-[3rem] overflow-hidden border border-white/10 shadow-2xl relative group/img">
                                                        <img src={img} className="h-full w-auto object-contain transition-transform duration-700 group-hover/img:scale-105" />
                                                        <div className="absolute inset-0 bg-lime-500/10 opacity-0 group-hover/img:opacity-100 transition-opacity pointer-events-none"></div>
                                                    </div>
                                                ))}
                                                <div className="w-24 shrink-0"></div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        ) : (
                            <div className="animate-in slide-in-from-bottom-10 duration-700 max-w-5xl mx-auto">
                                <div className="flex justify-between items-baseline mb-16 border-b border-lime-500/20 pb-8">
                                    <h2 className="text-6xl font-black italic tracking-tighter text-white">OPERATIONS</h2>
                                    <div className="text-[#bef264] text-xs font-black uppercase tracking-[0.5em]">{roadmap.length} ACTIVE CORES</div>
                                </div>
                                <div className="grid gap-8">
                                    {roadmap.map(task => (
                                        <div key={task.id} className="glass-panel p-10 rounded-[3rem] flex items-center gap-10 group relative overflow-hidden">
                                            <div className="absolute top-0 left-0 w-1 h-full bg-[#bef264]"></div>
                                            <img src={task.images[0]} className="w-28 h-28 rounded-[2rem] object-cover grayscale group-hover:grayscale-0 transition-all duration-700 shadow-2xl border border-white/10" />
                                            <div className="flex-1">
                                                <div className="flex justify-between items-start mb-6">
                                                    <div>
                                                        <h4 className="font-black text-2xl text-white mb-1 uppercase tracking-tight">{task.title}</h4>
                                                        <span className="text-[10px] text-white/30 font-bold tracking-widest">DEPLOYMENT IN PROGRESS</span>
                                                    </div>
                                                    <button onClick={()=>setRoadmap(roadmap.filter(r=>r.id!==task.id))} className="text-[10px] text-white/20 hover:text-rose-500 font-black tracking-widest transition-colors">ARCHIVE</button>
                                                </div>
                                                <div className="w-full bg-white/5 h-3 rounded-full overflow-hidden p-[2px]">
                                                    <div className="bg-[#bef264] h-full w-[65%] rounded-full shadow-[0_0_20px_rgba(190,242,100,0.6)]"></div>
                                                </div>
                                                <div className="flex justify-between mt-4">
                                                    <span className="text-[10px] font-black text-[#bef264] tracking-widest uppercase">System Stable</span>
                                                    <span className="text-[10px] font-black text-white/40 tracking-widest uppercase">65% Processed</span>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
